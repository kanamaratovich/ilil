<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">

    <!--#########################################################CREATE TABLES##########################################################-->
    <!--
    Создаем две схемы:
        nsi - для справочников(categories,attributes,subs,products,attribute_families,attribute_groups,...)
        cust - для пользователей и все то что с ними в связке(roles,user_roles,user_subs,...)
    -->
    <changeSet id="create_schema" author="katymtayev">
        <sql dbms="postgresql" endDelimiter=";">
            CREATE SCHEMA nsi
        </sql>
        <sql dbms="postgresql" endDelimiter=";">
            CREATE SCHEMA cust
        </sql>
    </changeSet>

    <changeSet id="create_users_table" author="katymtayev">
        <createTable tableName="users" schemaName="CUST">
            <column name="id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>

            <column name="username" type="VARCHAR(100)">
                <constraints nullable="false" unique="true"/>
            </column>

            <column name="email" type="VARCHAR(255)">
                <constraints nullable="false" unique="true"/>
            </column>

            <column name="first_name" type="VARCHAR(100)"/>

            <column name="last_name" type="VARCHAR(100)"/>

            <column name="password" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>

            <column name="created" type="TIMESTAMP" defaultValue="NOW()">
                <constraints nullable="false"/>
            </column>

            <column name="updated" type="TIMESTAMP" defaultValue="NOW()">
                <constraints nullable="false"/>
            </column>

            <column name="status" type="VARCHAR(25)" defaultValue="ACTIVE">
                <constraints nullable="false"/>
            </column>

        </createTable>
    </changeSet>
    
    <changeSet id="create_roles_table" author="katymtayev">
        <createTable tableName="roles" schemaName="CUST">
            <column name="id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>

            <column name="name" type="VARCHAR(100)">
                <constraints nullable="false" unique="true"/>
            </column>

            <column name="created" type="TIMESTAMP" defaultValue="NOW()">
                <constraints nullable="false"/>
            </column>

            <column name="updated" type="TIMESTAMP" defaultValue="NOW()">
                <constraints nullable="false"/>
            </column>

            <column name="status" type="VARCHAR(25)" defaultValue="ACTIVE">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="create_user_roles_table" author="katymtayev">
        <createTable tableName="user_roles" schemaName="CUST">
            <column name="user_id" type="BIGINT">
            </column>

            <column name="role_id" type="BIGINT">
            </column>
        </createTable>
        <addForeignKeyConstraint baseColumnNames="user_id"
                                 baseTableName="user_roles"
                                 constraintName="fk_user_roles_user"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="id"
                                 referencedTableName="users" referencedTableSchemaName="CUST" baseTableSchemaName="CUST"/>
        <addForeignKeyConstraint baseColumnNames="role_id"
                                 baseTableName="user_roles"
                                 constraintName="fk_user_roles_roles"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="id"
                                 referencedTableName="roles" baseTableSchemaName="CUST" referencedTableSchemaName="CUST"/>
    </changeSet>

    <changeSet id="create_attributes_table" author="katymtayev">
        <createTable tableName="attributes" schemaName="nsi">
            <column name="id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>

            <column name="code" type="VARCHAR(25)">
                <constraints unique="true" />
            </column>

            <column name="name" type="VARCHAR(100)"/>

            <column name="type" type="VARCHAR(100)"/>

            <column name="validation" type="VARCHAR(100)"/>

            <column name="position" type="INT"/>

            <column name="is_required" type="BOOLEAN" defaultValueBoolean="false"/>

            <column name="is_unique" type="BOOLEAN" defaultValueBoolean="false"/>

            <column name="is_filterable" type="BOOLEAN" defaultValueBoolean="false"/>

            <column name="is_configurable" type="BOOLEAN" defaultValueBoolean="false"/>

            <column name="is_user_defined" type="BOOLEAN" defaultValueBoolean="true"/>

            <column name="is_visible_on_front" type="BOOLEAN" defaultValueBoolean="false"/>

            <column name="created" type="TIMESTAMP" defaultValue="NOW()">
                <constraints nullable="false"/>
            </column>

            <column name="updated" type="TIMESTAMP" defaultValue="NOW()">
                <constraints nullable="false"/>
            </column>

            <column name="status" type="VARCHAR(25)" defaultValue="ACTIVE">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="create_attribute_families_table" author="katymtayev">
        <createTable tableName="attribute_families" schemaName="nsi">
            <column name="id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>

            <column name="code" type="VARCHAR(25)">
                <constraints unique="true" />
            </column>

            <column name="name" type="VARCHAR(100)"/>

            <column name="type" type="VARCHAR(100)"/>

            <column name="is_user_defined" type="BOOLEAN" defaultValueBoolean="true"/>

            <column name="created" type="TIMESTAMP" defaultValue="NOW()">
                <constraints nullable="false"/>
            </column>

            <column name="updated" type="TIMESTAMP" defaultValue="NOW()">
                <constraints nullable="false"/>
            </column>

            <column name="status" type="VARCHAR(25)" defaultValue="ACTIVE">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="create_attribute_groups_table" author="katymtayev">
        <createTable tableName="attribute_groups" schemaName="nsi">
            <column name="id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>

            <column name="name" type="VARCHAR(100)"/>

            <column name="position" type="INT"/>

            <column name="is_user_defined" type="BOOLEAN" defaultValueBoolean="true"/>

            <column name="attribute_family_id" type="BIGINT"/>

            <column name="created" type="TIMESTAMP" defaultValue="NOW()">
                <constraints nullable="false"/>
            </column>

            <column name="updated" type="TIMESTAMP" defaultValue="NOW()">
                <constraints nullable="false"/>
            </column>

            <column name="status" type="VARCHAR(25)" defaultValue="ACTIVE">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addForeignKeyConstraint baseTableName="attribute_groups" baseColumnNames="attribute_family_id"
                                 constraintName="fk_attribute_groups_attribute_family"
                                 referencedTableName="attribute_families" referencedColumnNames="id"
                                 referencedTableSchemaName="nsi" baseTableSchemaName="nsi"/>
        <addUniqueConstraint tableName="attribute_groups" columnNames="attribute_family_id,name" schemaName="nsi"/>
    </changeSet>
    
    <changeSet id="create_attribute_group_mappings_table" author="katymtayev">
        <createTable tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" type="BIGINT"></column>
            <column name="attribute_group_id" type="BIGINT"></column>
            <column name="position" type="INT"/>
        </createTable>
        <addPrimaryKey tableName="attribute_group_mappings" columnNames="attribute_id,attribute_group_id" schemaName="nsi"/>
        <addForeignKeyConstraint baseTableName="attribute_group_mappings" baseColumnNames="attribute_id"
                                 constraintName="fk_attribute_group_mappings_attribute"
                                 referencedTableName="attributes" referencedColumnNames="id" baseTableSchemaName="nsi" referencedTableSchemaName="nsi"/>
        <addForeignKeyConstraint baseTableName="attribute_group_mappings" baseColumnNames="attribute_group_id"
                                 constraintName="fk_attribute_group_mappings_attribute_group"
                                 referencedTableName="attribute_groups" referencedColumnNames="id" referencedTableSchemaName="nsi" baseTableSchemaName="nsi" />
    </changeSet>
    
    <changeSet id="create_attribute_options_table" author="katymtayev">
        <createTable tableName="attribute_options" schemaName="nsi">
            <column name="id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="attribute_id"  type="BIGINT" />
            <column name="name" type="VARCHAR(50)" />
            <column name="sort_order" type="INT" />
            <column name="swatch_value" type="VARCHAR(50)" />
            <column name="created" type="TIMESTAMP" defaultValue="NOW()">
                <constraints nullable="false"/>
            </column>

            <column name="updated" type="TIMESTAMP" defaultValue="NOW()">
                <constraints nullable="false"/>
            </column>

            <column name="status" type="VARCHAR(25)" defaultValue="ACTIVE">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addForeignKeyConstraint baseTableName="attribute_options" baseColumnNames="attribute_id"
                                 constraintName="fk_attribute_options_attribute"
                                 referencedTableName="attributes"
                                 referencedColumnNames="id" baseTableSchemaName="nsi" referencedTableSchemaName="nsi" />
    </changeSet>
    
    <changeSet id="create_partners_table" author="katymtayev">
        <createTable tableName="partners" schemaName="nsi">
            <column name="id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(100)"/>
            <column name="image" type="VARCHAR(100)"/>
            <column name="created" type="TIMESTAMP" defaultValue="NOW()">
                <constraints nullable="false"/>
            </column>
            <column name="updated" type="TIMESTAMP" defaultValue="NOW()">
                <constraints nullable="false"/>
            </column>
            <column name="status" type="VARCHAR(25)" defaultValue="ACTIVE">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="create_categories_table" author="katymtayev">
        <createTable tableName="categories" schemaName="nsi">
            <column name="id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>

            <column name="parent_id" type="BIGINT"/>

            <column name="name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>

            <column name="slug" type="VARCHAR(100)">
                <constraints nullable="false" unique="true"/>
            </column>

            <column name="description" type="VARCHAR(100)"/>

            <column name="position" type="INT">
                <constraints nullable="true"/>
            </column>

            <column name="image" type="VARCHAR(100)"/>

            <column name="created" type="TIMESTAMP" defaultValue="NOW()">
                <constraints nullable="false"/>
            </column>

            <column name="updated" type="TIMESTAMP" defaultValue="NOW()">
                <constraints nullable="false"/>
            </column>

            <column name="status" type="VARCHAR(25)" defaultValue="ACTIVE">
                <constraints nullable="false"/>
            </column>

        </createTable>
        <addForeignKeyConstraint baseColumnNames="parent_id"
                                 baseTableName="categories"
                                 constraintName="fk_categories_parent"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="id"
                                 referencedTableName="categories"
                                 baseTableSchemaName="nsi"
                                 referencedTableSchemaName="nsi"/>
    </changeSet>

    <changeSet id="create_filterable_attributes_table" author="katymtayev">
        <createTable tableName="category_filterable_attributes" schemaName="nsi">
            <column name="category_id" type="BIGINT" />
            <column name="attribute_id" type="BIGINT" />
            <column name="position" type="INT"/>
        </createTable>
        <addForeignKeyConstraint baseTableName="category_filterable_attributes" baseColumnNames="category_id"
                                 constraintName="fk_category_filterable_attributes_category" referencedTableName="categories"
                                 referencedColumnNames="id" referencedTableSchemaName="nsi" baseTableSchemaName="nsi"/>
        <addForeignKeyConstraint baseTableName="category_filterable_attributes" baseColumnNames="attribute_id"
                                 constraintName="fk_category_filterable_attributes_attribute" referencedTableName="attributes"
                                 referencedColumnNames="id" baseTableSchemaName="nsi" referencedTableSchemaName="nsi"/>
        <addPrimaryKey tableName="category_filterable_attributes" columnNames="category_id,attribute_id" schemaName="nsi"/>
    </changeSet>

    <changeSet id="create_subs_table"  author="katymtayev">
        <createTable tableName="subs" schemaName="nsi">
            <column name="id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="partner_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="attribute_family_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="created" type="TIMESTAMP" defaultValue="NOW()">
                <constraints nullable="false"/>
            </column>
            <column name="updated" type="TIMESTAMP" defaultValue="NOW()">
                <constraints nullable="false"/>
            </column>
            <column name="status" type="VARCHAR(25)" defaultValue="ACTIVE">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addForeignKeyConstraint baseTableName="subs" baseColumnNames="attribute_family_id"
                                 constraintName="fk_subs_attribute_family"
                                 referencedTableName="attribute_families"
                                 referencedColumnNames="id" baseTableSchemaName="nsi" referencedTableSchemaName="nsi"/>
        <addForeignKeyConstraint baseTableName="subs" baseColumnNames="partner_id"
                                 constraintName="fk_subs_partner"
                                 referencedTableName="partners"
                                 referencedColumnNames="id" baseTableSchemaName="nsi" referencedTableSchemaName="nsi"/>
    </changeSet>

    <changeSet id="create_sub_attribute_values_table"  author="katymtayev">
        <!---->
        <!--tags split(;) locations split(;)-->
        <createTable tableName="sub_attribute_values" schemaName="nsi">
            <column name="id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="text_value" type="VARCHAR(100)"/>
            <column name="boolean_value" type="BOOLEAN"/>
            <column name="integer_value" type="INT"/>
            <column name="float_value" type="FLOAT"/>
            <column name="datetime_value" type="TIMESTAMP"/>
            <column name="date_value" type="DATE"/>
            <column name="json_value" type="JSON"/>
            <column name="sub_id" type="BIGINT">
                <constraints nullable="false" />
            </column>
            <column name="attribute_id" type="BIGINT">
                <constraints nullable="false" />
            </column>
            <column name="created" type="TIMESTAMP" defaultValue="NOW()">
                <constraints nullable="false"/>
            </column>

            <column name="updated" type="TIMESTAMP" defaultValue="NOW()">
                <constraints nullable="false"/>
            </column>

            <column name="status" type="VARCHAR(25)" defaultValue="ACTIVE">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addForeignKeyConstraint baseTableName="sub_attribute_values" baseColumnNames="sub_id"
                                 constraintName="fk_sub_attribute_values_sub" referencedTableName="subs"
                                 referencedColumnNames="id" baseTableSchemaName="nsi" referencedTableSchemaName="nsi"/>
        <addForeignKeyConstraint baseTableName="sub_attribute_values" baseColumnNames="attribute_id"
                                 constraintName="fk_sub_attribute_values_attribute" referencedTableName="attributes"
                                 referencedColumnNames="id" baseTableSchemaName="nsi" referencedTableSchemaName="nsi"/>
        <addUniqueConstraint tableName="sub_attribute_values" columnNames="attribute_id,sub_id" schemaName="nsi"/>
    </changeSet>
    
    <changeSet id="create_products_table" author="katymtayev">
        <createTable tableName="products" schemaName="nsi">
            <column name="id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="type" type="VARCHAR(100)">
                <constraints nullable="false" />
            </column>
            <column name="attribute_family_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="sub_id" type="BIGINT"/>
            <column name="created" type="TIMESTAMP" defaultValue="NOW()">
                <constraints nullable="false"/>
            </column>
            <column name="updated" type="TIMESTAMP" defaultValue="NOW()">
                <constraints nullable="false"/>
            </column>
            <column name="status" type="VARCHAR(25)" defaultValue="ACTIVE">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addForeignKeyConstraint baseTableName="products" baseColumnNames="sub_id"
                                 constraintName="fk_products_sub" referencedTableName="subs"
                                 referencedColumnNames="id" referencedTableSchemaName="nsi" baseTableSchemaName="nsi"/>
        <addForeignKeyConstraint baseTableName="products" baseColumnNames="attribute_family_id"
                                 constraintName="fk_products_attribute_family"
                                 referencedTableName="attribute_families"
                                 referencedColumnNames="id" baseTableSchemaName="nsi" referencedTableSchemaName="nsi"/>

        <!--createProductRelationsTable-->
        <!--<createTable tableName="product_relations" schemaName="nsi">
            <column name="parent_id" type="BIGINT"/>
            <column name="child_id" type="BIGINT" />
        </createTable>
        <addForeignKeyConstraint baseTableName="product_relations" baseColumnNames="parent_id"
                                 constraintName="fk_product_relations_parent" referencedTableName="products"
                                 referencedColumnNames="id" referencedTableSchemaName="nsi" baseTableSchemaName="nsi" />
        <addForeignKeyConstraint baseTableName="product_relations" baseColumnNames="child_id"
                                 constraintName="fk_product_relations_child" referencedTableName="products"
                                 referencedColumnNames="id" baseTableSchemaName="nsi" referencedTableSchemaName="nsi"/>-->
    </changeSet>

    <changeSet id="create_product_attribute_values_table"  author="katymtayev">
        <!---->
        <!--tags split(;) locations split(;)-->
        <createTable tableName="product_attribute_values" schemaName="nsi">
            <column name="id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="text_value" type="VARCHAR(100)"/>
            <column name="boolean_value" type="BOOLEAN"/>
            <column name="integer_value" type="INT"/>
            <column name="float_value" type="FLOAT"/>
            <column name="datetime_value" type="TIMESTAMP"/>
            <column name="date_value" type="DATE"/>
            <column name="json_value" type="JSON"/>
            <column name="product_id" type="BIGINT">
                <constraints nullable="false" />
            </column>
            <column name="attribute_id" type="BIGINT">
                <constraints nullable="false" />
            </column>
            <column name="created" type="TIMESTAMP" defaultValue="NOW()">
                <constraints nullable="false"/>
            </column>

            <column name="updated" type="TIMESTAMP" defaultValue="NOW()">
                <constraints nullable="false"/>
            </column>

            <column name="status" type="VARCHAR(25)" defaultValue="ACTIVE">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addForeignKeyConstraint baseTableName="product_attribute_values" baseColumnNames="product_id"
                                 constraintName="fk_product_attribute_values_product" referencedTableName="products"
                                 referencedColumnNames="id" baseTableSchemaName="nsi" referencedTableSchemaName="nsi"/>
        <addForeignKeyConstraint baseTableName="product_attribute_values" baseColumnNames="attribute_id"
                                 constraintName="fk_product_attribute_values_attribute" referencedTableName="attributes"
                                 referencedColumnNames="id" baseTableSchemaName="nsi" referencedTableSchemaName="nsi"/>
        <addUniqueConstraint tableName="product_attribute_values" columnNames="attribute_id,product_id" schemaName="nsi"/>
    </changeSet>

    <changeSet id="create_product_super_attributes_table" author="katymtayev">
        <createTable tableName="product_super_attributes" schemaName="nsi">
            <column name="product_id" type="BIGINT" />
            <column name="attribute_id" type="BIGINT" />
        </createTable>
        <addForeignKeyConstraint baseTableName="product_super_attributes" baseColumnNames="product_id"
                                 constraintName="fk_product_super_attributes_product" referencedTableName="products"
                                 referencedColumnNames="id" referencedTableSchemaName="nsi" baseTableSchemaName="nsi" />
        <addForeignKeyConstraint baseTableName="product_super_attributes" baseColumnNames="attribute_id"
                                 constraintName="fk_product_super_attributes_attribute" referencedTableName="attributes"
                                 referencedColumnNames="id" referencedTableSchemaName="nsi" baseTableSchemaName="nsi" />
    </changeSet>

    <changeSet id="create_sub_categories_table"  author="katymtayev">
        <createTable tableName="sub_categories" schemaName="nsi">
            <column name="sub_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="category_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="position" type="INT"/>
        </createTable>
        <addForeignKeyConstraint baseTableName="sub_categories" baseColumnNames="sub_id"
                                 constraintName="sub_categories_sub" referencedTableName="subs"
                                 referencedColumnNames="id" referencedTableSchemaName="nsi" baseTableSchemaName="nsi"/>
        <addForeignKeyConstraint baseTableName="sub_categories" baseColumnNames="category_id"
                                 constraintName="sub_categories_category" referencedTableName="categories"
                                 referencedColumnNames="id" referencedTableSchemaName="nsi" baseTableSchemaName="nsi"/>
    </changeSet>

    <!--###############################################END CREATE TABLES########################################################################-->

    <!--###############################################INSERT INITIAL DATA######################################################################-->
    <!--Создаем пользователя Админ по умолчанию-->
    <changeSet id="insert_default_user_admin" author="katymtayev">
        <insert tableName="users" schemaName="CUST">
            <column name="username" value="admin"/>
            <column name="email" value="admin@petco.com"/>
            <column name="first_name" value="admin"/>
            <column name="last_name" value="admin"/>
            <!--adminPass-->
            <column name="password" value="$2a$10$avyglupAFn4VumO5CoOkE.1UWVs/aljoSaCxUIjAA5quBDa7aDoTa"/>
        </insert>
    </changeSet>

    <!--Создаем две роли : ROLE_USER ROLE_ADMIN-->
    <changeSet id="insert_roles_ROLE_USER_and_ROLE_ADMIN" author="katymtayev">
        <insert tableName="roles" schemaName="CUST">
            <column name="name" value="ROLE_USER"/>
        </insert>
        <insert tableName="roles" schemaName="CUST">
            <column name="name" value="ROLE_ADMIN"/>
        </insert>
    </changeSet>

    <!--Присваеваем две роли(ROLE_USER,ROLE_ADMIN) Админу-->
    <changeSet id="insert_user_roles_for_admin" author="katymtayev">
        <insert tableName="user_roles" schemaName="CUST">
            <column name="user_id" value="1"/>
            <column name="role_id" value="1"/>
        </insert>
        <insert tableName="user_roles" schemaName="CUST">
            <column name="user_id" value="1"/>
            <column name="role_id" value="2"/>
        </insert>
    </changeSet>

    <!--Это вроде не железно!!!!!!-->
    <changeSet id="insert_categories" author="katymtayev">
        <insert tableName="categories" schemaName="nsi">
            <column name="id" value="1" />
            <column name="name" value="Услуги" />
            <column name="slug" value="services" />
            <column name="position" value="1"/>
        </insert>
        <insert tableName="categories" schemaName="nsi">
            <column name="id" value="2" />
            <column name="name" value="Покупки" />
            <column name="slug" value="purchases" />
            <column name="position" value="2"/>
        </insert>
        <insert tableName="categories" schemaName="nsi">
            <column name="id" value="3" />
            <column name="name" value="Отдых" />
            <column name="slug" value="recreations" />
            <column name="position" value="3"/>
        </insert>
        <insert tableName="categories" schemaName="nsi">
            <column name="id" value="4" />
            <column name="name" value="Аптеки" />
            <column name="slug" value="pharmacies" />
            <column name="position" value="4"/>
        </insert>
        <sql dbms="postgresql" endDelimiter=";">
            SELECT setval('nsi.categories_id_seq', (SELECT max(id) FROM nsi.categories))
        </sql>
        <insert tableName="categories" schemaName="nsi">
            <column name="parent_id" value="1"/>
            <column name="name" value="Аренда" />
            <column name="slug" value="service-1" />
            <column name="position" value="1"/>
        </insert>
        <insert tableName="categories" schemaName="nsi">
            <column name="parent_id" value="1"/>
            <column name="name" value="Автомойки" />
            <column name="slug" value="service-2" />
            <column name="position" value="2"/>
        </insert>
        <insert tableName="categories" schemaName="nsi">
            <column name="parent_id" value="1"/>
            <column name="name" value="Барбершопы" />
            <column name="slug" value="service-3" />
            <column name="position" value="3"/>
        </insert>
        <insert tableName="categories" schemaName="nsi">
            <column name="parent_id" value="1"/>
            <column name="name" value="Красота и здоровье" />
            <column name="slug" value="service-4" />
            <column name="position" value="4"/>
        </insert>
    </changeSet>

    <changeSet id="insert_attribute_families" author="katymtayev">
        <insert tableName="attribute_families" schemaName="nsi">
            <column name="id" value="1"/>
            <column name="name" value="Подписка(по умолчанию)"/>
            <column name="code" value="default" />
            <column name="type" value="sub" />
            <column name="is_user_defined" value="true"/>
        </insert>
        <sql dbms="postgresql" endDelimiter=";">
            SELECT setval('nsi.attribute_families_id_seq', (SELECT max(id) FROM nsi.attribute_families))
        </sql>

    </changeSet>

    <changeSet id="insert_attribute_groups" author="katymtayev">
        <insert tableName="attribute_groups" schemaName="nsi">
            <column name="id" value="1"/>
            <column name="name" value="Основной"/>
            <column name="position" value="1"/>
            <column name="attribute_family_id" value="1"/>
        </insert>
        <insert tableName="attribute_groups" schemaName="nsi">
            <column name="id" value="6"/>
            <column name="name" value="Калькулятор"/>
            <column name="position" value="2"/>
            <column name="attribute_family_id" value="1"/>
        </insert>
        <insert tableName="attribute_groups" schemaName="nsi">
            <column name="id" value="2"/>
            <column name="name" value="Описание"/>
            <column name="position" value="3"/>
            <column name="attribute_family_id" value="1"/>
        </insert>
        <insert tableName="attribute_groups" schemaName="nsi">
            <column name="id" value="3"/>
            <column name="name" value="Meta Описание"/>
            <column name="position" value="4"/>
            <column name="attribute_family_id" value="1"/>
        </insert>
        <!--<insert tableName="attribute_groups" schemaName="nsi">
            <column name="id" value="4"/>
            <column name="name" value="Цена"/>
            <column name="position" value="5"/>
            <column name="attribute_family_id" value="1"/>
        </insert>-->
        <!--<insert tableName="attribute_groups" schemaName="nsi">
            <column name="id" value="5"/>
            <column name="name" value="Доставка"/>
            <column name="position" value="6"/>
            <column name="attribute_family_id" value="1"/>
        </insert>-->
        <sql dbms="postgresql" endDelimiter=";">
            SELECT setval('nsi.attribute_groups_id_seq', (SELECT max(id) FROM nsi.attribute_groups))
        </sql>
    </changeSet>

    <changeSet id="insert_attributes" author="katymtayev">
        <!--<insert tableName="attributes" schemaName="nsi">
            <column name="id" value="1"/>
            <column name="name" value="SKU"/>
            <column name="code" value="sku"/>
            <column name="type" value="text"/>
            <column name="position" value="1"/>
            <column name="is_required" value="1"/>
            <column name="is_unique" value="1"/>
        </insert>-->
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="2"/>
            <column name="name" value="Наименование"/>
            <column name="code" value="name"/>
            <column name="type" value="text"/>
            <column name="position" value="2"/>
            <column name="is_required" value="1"/>
        </insert>
        <!--<insert tableName="attributes" schemaName="nsi">
            <column name="id" value="3"/>
            <column name="name" value="URL Key"/>
            <column name="code" value="url_key"/>
            <column name="type" value="text"/>
            <column name="position" value="3"/>
            <column name="is_required" value="1"/>
            <column name="is_unique" value="1"/>
        </insert>-->
        <!--<insert tableName="attributes" schemaName="nsi">
            <column name="id" value="4"/>
            <column name="name" value="Tax Category"/>
            <column name="code" value="tax_category_id"/>
            <column name="type" value="select"/>
            <column name="position" value="4"/>
        </insert>-->
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="5"/>
            <column name="name" value="Новое"/>
            <column name="code" value="new"/>
            <column name="type" value="boolean"/>
            <column name="position" value="5"/>
        </insert>
        <!--<insert tableName="attributes" schemaName="nsi">
            <column name="id" value="6"/>
            <column name="name" value="Обработан"/>
            <column name="code" value="featured"/>
            <column name="type" value="boolean"/>
            <column name="position" value="6"/>
        </insert>-->
        <!--<insert tableName="attributes" schemaName="nsi">
            <column name="id" value="7"/>
            <column name="name" value="Видим индивидуально"/>
            <column name="code" value="visible_individually"/>
            <column name="type" value="boolean"/>
            <column name="position" value="7"/>
            <column name="is_required" value="1"/>
        </insert>-->
        <!--<insert tableName="attributes" schemaName="nsi">
            <column name="id" value="8"/>
            <column name="name" value="Статус"/>
            <column name="code" value="status"/>
            <column name="type" value="boolean"/>
            <column name="position" value="8"/>
            <column name="is_required" value="1"/>
        </insert>-->
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="9"/>
            <column name="name" value="Краткое описание"/>
            <column name="code" value="short_description"/>
            <column name="type" value="textarea"/>
            <column name="position" value="9"/>
            <column name="is_required" value="1"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="10"/>
            <column name="name" value="Описание"/>
            <column name="code" value="description"/>
            <column name="type" value="textarea"/>
            <column name="position" value="10"/>
            <column name="is_required" value="1"/>
        </insert>
        <!--<insert tableName="attributes" schemaName="nsi">
            <column name="id" value="11"/>
            <column name="name" value="Цена"/>
            <column name="code" value="price"/>
            <column name="type" value="price"/>
            <column name="position" value="11"/>
            <column name="validation" value="decimal"/>
            <column name="is_required" value="1"/>
            <column name="is_filterable" value="1"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="12"/>
            <column name="name" value="Стоимость"/>
            <column name="code" value="cost"/>
            <column name="type" value="price"/>
            <column name="position" value="12"/>
            <column name="validation" value="decimal"/>
            <column name="is_user_defined" value="1"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="13"/>
            <column name="name" value="Скидочная цена"/>
            <column name="code" value="special_price"/>
            <column name="type" value="price"/>
            <column name="position" value="13"/>
            <column name="validation" value="decimal"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="14"/>
            <column name="name" value="Скидочная цена дата от"/>
            <column name="code" value="special_price_from"/>
            <column name="type" value="date"/>
            <column name="position" value="14"/>
        </insert>-->

        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="16"/>
            <column name="name" value="Meta Title"/>
            <column name="code" value="meta_title"/>
            <column name="type" value="textarea"/>
            <column name="position" value="16"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="17"/>
            <column name="name" value="Meta Keywords"/>
            <column name="code" value="meta_keywords"/>
            <column name="type" value="textarea"/>
            <column name="position" value="17"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="18"/>
            <column name="name" value="Meta Description"/>
            <column name="code" value="meta_description"/>
            <column name="type" value="textarea"/>
            <column name="position" value="18"/>
            <column name="is_user_defined" value="1"/>
        </insert>
        <!--<insert tableName="attributes" schemaName="nsi">
            <column name="id" value="19"/>
            <column name="name" value="Ширина"/>
            <column name="code" value="width"/>
            <column name="type" value="text"/>
            <column name="position" value="19"/>
            <column name="validation" value="decimal"/>
            <column name="is_user_defined" value="1"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="20"/>
            <column name="name" value="Высота"/>
            <column name="code" value="height"/>
            <column name="type" value="text"/>
            <column name="position" value="20"/>
            <column name="validation" value="decimal"/>
            <column name="is_user_defined" value="1"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="21"/>
            <column name="name" value="Глубина"/>
            <column name="code" value="depth"/>
            <column name="type" value="text"/>
            <column name="position" value="21"/>
            <column name="validation" value="decimal"/>
            <column name="is_user_defined" value="1"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="22"/>
            <column name="name" value="Вес"/>
            <column name="code" value="weight"/>
            <column name="type" value="text"/>
            <column name="position" value="22"/>
            <column name="validation" value="decimal"/>
            <column name="is_user_defined" value="1"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="23"/>
            <column name="name" value="Цвет"/>
            <column name="code" value="color"/>
            <column name="type" value="select"/>
            <column name="position" value="23"/>
            <column name="is_user_defined" value="1"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="24"/>
            <column name="name" value="Размер"/>
            <column name="code" value="size"/>
            <column name="type" value="select"/>
            <column name="position" value="24"/>
            <column name="is_user_defined" value="1"/>
        </insert>-->
        <!--<insert tableName="attributes" schemaName="nsi">
            <column name="id" value="25"/>
            <column name="name" value="Бренд"/>
            <column name="code" value="brand"/>
            <column name="type" value="select"/>
            <column name="position" value="25"/>
            <column name="is_required" value="1"/>
            <column name="is_visible_on_front" value="1"/>
        </insert>-->

        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="26"/>
            <column name="name" value="Рекомендован"/>
            <column name="code" value="recommend"/>
            <column name="type" value="boolean"/>
            <column name="position" value="26"/>
        </insert>

        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="27"/>
            <column name="name" value="Рейтинг"/>
            <column name="code" value="ratings"/>
            <column name="type" value="float"/>
            <column name="position" value="27"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="28"/>
            <column name="name" value="Коды городов"/>
            <column name="code" value="cityCodes"/>
            <column name="type" value="multi-select"/>
            <column name="is_configurable" value="true"/>
            <column name="is_user_defined" value="true"/>
            <column name="position" value="28"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="29"/>
            <column name="name" value="Таги"/>
            <column name="code" value="tags"/>
            <column name="type" value="text"/>
            <column name="is_visible_on_front" value="true"/>
            <column name="is_configurable" value="true"/>
            <column name="is_user_defined" value="true"/>
            <column name="position" value="29"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="30"/>
            <column name="name" value="N0"/>
            <column name="code" value="calcN0"/>
            <column name="type" value="integer"/>
            <column name="is_visible_on_front" value="true"/>
            <column name="is_configurable" value="true"/>
            <column name="is_user_defined" value="true"/>
            <column name="position" value="30"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="31"/>
            <column name="name" value="Nmin"/>
            <column name="code" value="calcNmin"/>
            <column name="type" value="integer"/>
            <column name="is_visible_on_front" value="true"/>
            <column name="is_configurable" value="true"/>
            <column name="is_user_defined" value="true"/>
            <column name="position" value="31"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="32"/>
            <column name="name" value="Nmax"/>
            <column name="code" value="calcNmax"/>
            <column name="type" value="integer"/>
            <column name="is_visible_on_front" value="true"/>
            <column name="is_configurable" value="true"/>
            <column name="is_user_defined" value="true"/>
            <column name="position" value="32"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="33"/>
            <column name="name" value="Nstep"/>
            <column name="code" value="calcNstep"/>
            <column name="type" value="integer"/>
            <column name="is_visible_on_front" value="true"/>
            <column name="is_configurable" value="true"/>
            <column name="is_user_defined" value="true"/>
            <column name="position" value="33"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="34"/>
            <column name="name" value="Dstep"/>
            <column name="code" value="calcDstep"/>
            <column name="type" value="integer"/>
            <column name="is_visible_on_front" value="true"/>
            <column name="is_configurable" value="true"/>
            <column name="is_user_defined" value="true"/>
            <column name="position" value="34"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="35"/>
            <column name="name" value="Dmin"/>
            <column name="code" value="calcDmin"/>
            <column name="type" value="integer"/>
            <column name="is_visible_on_front" value="true"/>
            <column name="is_configurable" value="true"/>
            <column name="is_user_defined" value="true"/>
            <column name="position" value="35"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="36"/>
            <column name="name" value="Dmax"/>
            <column name="code" value="calcDmax"/>
            <column name="type" value="integer"/>
            <column name="is_visible_on_front" value="true"/>
            <column name="is_configurable" value="true"/>
            <column name="is_user_defined" value="true"/>
            <column name="position" value="36"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="37"/>
            <column name="name" value="D0"/>
            <column name="code" value="calcD0"/>
            <column name="type" value="integer"/>
            <column name="is_visible_on_front" value="true"/>
            <column name="is_configurable" value="true"/>
            <column name="is_user_defined" value="true"/>
            <column name="position" value="37"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="38"/>
            <column name="name" value="Pmax"/>
            <column name="code" value="calcPmax"/>
            <column name="type" value="integer"/>
            <column name="is_visible_on_front" value="true"/>
            <column name="is_configurable" value="true"/>
            <column name="is_user_defined" value="true"/>
            <column name="position" value="38"/>
        </insert>
        <sql dbms="postgresql" endDelimiter=";">
            SELECT setval('nsi.attributes_id_seq', (SELECT max(id) FROM nsi.attributes))
        </sql>
    </changeSet>
    <changeSet id="insert_attribute_2" author="">
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="41"/>
            <column name="name" value="periodFrom"/>
            <column name="code" value="periodFrom"/>
            <column name="type" value="text"/>
            <column name="is_visible_on_front" value="true"/>
            <column name="is_configurable" value="true"/>
            <column name="is_user_defined" value="true"/>
            <column name="position" value="39"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="42"/>
            <column name="name" value="moneyFrom"/>
            <column name="code" value="moneyFrom"/>
            <column name="type" value="integer"/>
            <column name="is_visible_on_front" value="true"/>
            <column name="is_configurable" value="true"/>
            <column name="is_user_defined" value="true"/>
            <column name="position" value="40"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="43"/>
            <column name="name" value="discountTo"/>
            <column name="code" value="discountTo"/>
            <column name="type" value="integer"/>
            <column name="is_visible_on_front" value="true"/>
            <column name="is_configurable" value="true"/>
            <column name="is_user_defined" value="true"/>
            <column name="position" value="41"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="44"/>
            <column name="name" value="followers"/>
            <column name="code" value="followers"/>
            <column name="type" value="integer"/>
            <column name="is_visible_on_front" value="true"/>
            <column name="is_configurable" value="true"/>
            <column name="is_user_defined" value="true"/>
            <column name="position" value="42"/>
        </insert>
    </changeSet>

    <changeSet id="insert_attribute_group_mapping" author="katymtayev">
        <!--<insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="1"/>
            <column name="attribute_group_id" value="1"/>
            <column name="position" value="1"/>
        </insert>-->
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="2"/>
            <column name="attribute_group_id" value="1"/>
            <column name="position" value="1"/>
        </insert>
        <!--<insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="3"/>
            <column name="attribute_group_id" value="1"/>
            <column name="position" value="3"/>
        </insert>-->
        <!--<insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="4"/>
            <column name="attribute_group_id" value="1"/>
            <column name="position" value="4"/>
        </insert>-->
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="5"/>
            <column name="attribute_group_id" value="1"/>
            <column name="position" value="2"/>
        </insert>
        <!--<insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="6"/>
            <column name="attribute_group_id" value="1"/>
            <column name="position" value="6"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="7"/>
            <column name="attribute_group_id" value="1"/>
            <column name="position" value="7"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="8"/>
            <column name="attribute_group_id" value="1"/>
            <column name="position" value="8"/>
        </insert>-->
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="9"/>
            <column name="attribute_group_id" value="2"/>
            <column name="position" value="1"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="10"/>
            <column name="attribute_group_id" value="2"/>
            <column name="position" value="2"/>
        </insert>
        <!--<insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="11"/>
            <column name="attribute_group_id" value="4"/>
            <column name="position" value="1"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="12"/>
            <column name="attribute_group_id" value="4"/>
            <column name="position" value="2"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="13"/>
            <column name="attribute_group_id" value="4"/>
            <column name="position" value="3"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="14"/>
            <column name="attribute_group_id" value="4"/>
            <column name="position" value="4"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="15"/>
            <column name="attribute_group_id" value="4"/>
            <column name="position" value="5"/>
        </insert>-->
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="16"/>
            <column name="attribute_group_id" value="3"/>
            <column name="position" value="1"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="17"/>
            <column name="attribute_group_id" value="3"/>
            <column name="position" value="2"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="18"/>
            <column name="attribute_group_id" value="3"/>
            <column name="position" value="3"/>
        </insert>
        <!--<insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="19"/>
            <column name="attribute_group_id" value="5"/>
            <column name="position" value="1"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="20"/>
            <column name="attribute_group_id" value="5"/>
            <column name="position" value="2"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="21"/>
            <column name="attribute_group_id" value="5"/>
            <column name="position" value="3"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="22"/>
            <column name="attribute_group_id" value="5"/>
            <column name="position" value="4"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="23"/>
            <column name="attribute_group_id" value="5"/>
            <column name="position" value="9"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="24"/>
            <column name="attribute_group_id" value="5"/>
            <column name="position" value="10"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="25"/>
            <column name="attribute_group_id" value="5"/>
            <column name="position" value="11"/>
        </insert>-->
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="28"/>
            <column name="attribute_group_id" value="1"/>
            <column name="position" value="3"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="29"/>
            <column name="attribute_group_id" value="1"/>
            <column name="position" value="4"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="30"/>
            <column name="attribute_group_id" value="6"/>
            <column name="position" value="1"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="31"/>
            <column name="attribute_group_id" value="6"/>
            <column name="position" value="2"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="32"/>
            <column name="attribute_group_id" value="6"/>
            <column name="position" value="3"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="33"/>
            <column name="attribute_group_id" value="6"/>
            <column name="position" value="4"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="34"/>
            <column name="attribute_group_id" value="6"/>
            <column name="position" value="5"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="35"/>
            <column name="attribute_group_id" value="6"/>
            <column name="position" value="6"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="36"/>
            <column name="attribute_group_id" value="6"/>
            <column name="position" value="7"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="37"/>
            <column name="attribute_group_id" value="6"/>
            <column name="position" value="8"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="38"/>
            <column name="attribute_group_id" value="6"/>
            <column name="position" value="9"/>
        </insert>
    </changeSet>





    <!--###############################################END INSERT INITIAL DATA######################################################################-->











    <!--###############################################INSERT TEST DATA######################################################################-->

    <changeSet id="insert_test_attribute_families" author="katymtayev">
        <insert tableName="attribute_families" schemaName="nsi">
            <column name="id" value="2"/>
            <column name="name" value="sub-1"/>
            <column name="code" value="sub-1" />
            <column name="type" value="product" />
            <column name="is_user_defined" value="true"/>
        </insert>
        <sql dbms="postgresql" endDelimiter=";">
            SELECT setval('nsi.attribute_families_id_seq', (SELECT max(id) FROM nsi.attribute_families))
        </sql>

    </changeSet>
    <changeSet id="insert_test_attribute_groups" author="katymtayev">
        <insert tableName="attribute_groups" schemaName="nsi">
            <column name="id" value="7"/>
            <column name="name" value="Основной"/>
            <column name="position" value="1"/>
            <column name="attribute_family_id" value="2"/>
        </insert>
    </changeSet>
    <changeSet id="insert_test_attribute_sub_1" author="katymtayev">
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="39"/>
            <column name="name" value="Вид кофе"/>
            <column name="code" value="cofe_type"/>
            <column name="type" value="select"/>
            <column name="position" value="1"/>
        </insert>
        <insert tableName="attributes" schemaName="nsi">
            <column name="id" value="40"/>
            <column name="name" value="Размер кружки"/>
            <column name="code" value="cup_type"/>
            <column name="type" value="select"/>
            <column name="position" value="2"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="39"/>
            <column name="attribute_group_id" value="7"/>
            <column name="position" value="1"/>
        </insert>
        <insert tableName="attribute_group_mappings" schemaName="nsi">
            <column name="attribute_id" value="40"/>
            <column name="attribute_group_id" value="7"/>
            <column name="position" value="2"/>
        </insert>
        <insert tableName="attribute_options" schemaName="nsi">
            <column name="id" value="1"/>
            <column name="attribute_id" value="39" />
            <column name="name" value="Капучино"/>
            <column name="sort_order" value="1" />
            <column name="swatch_value" value="capuchino" />
        </insert>
        <insert tableName="attribute_options" schemaName="nsi">
            <column name="id" value="2"/>
            <column name="attribute_id" value="39" />
            <column name="name" value="Лате"/>
            <column name="sort_order" value="2" />
            <column name="swatch_value" value="late" />
        </insert>
        <insert tableName="attribute_options" schemaName="nsi">
            <column name="id" value="3"/>
            <column name="attribute_id" value="39" />
            <column name="name" value="Американо"/>
            <column name="sort_order" value="3" />
            <column name="swatch_value" value="Americano" />
        </insert>
        <insert tableName="attribute_options" schemaName="nsi">
            <column name="id" value="4"/>
            <column name="attribute_id" value="40" />
            <column name="name" value="Маленькая"/>
            <column name="sort_order" value="3" />
            <column name="swatch_value" value="S" />
        </insert>
        <insert tableName="attribute_options" schemaName="nsi">
            <column name="id" value="5"/>
            <column name="attribute_id" value="40" />
            <column name="name" value="Средний"/>
            <column name="sort_order" value="1" />
            <column name="swatch_value" value="M" />
        </insert>
        <insert tableName="attribute_options" schemaName="nsi">
            <column name="id" value="6"/>
            <column name="attribute_id" value="40" />
            <column name="name" value="Большой"/>
            <column name="sort_order" value="1" />
            <column name="swatch_value" value="L" />
        </insert>


    </changeSet>
    <changeSet id="insert_test_partners" author="katymtayev">
        <insert tableName="partners" schemaName="nsi">
            <column name="id" value="1"/>
            <column name="name" value="StarBucks"/>
            <column name="image" value="https://upload.wikimedia.org/wikipedia/ru/d/d3/Starbucks_Corporation_Logo_2011.svg"/>
        </insert>
        <insert tableName="partners" schemaName="nsi">
            <column name="id" value="2"/>
            <column name="name" value="Extremal"/>
            <column name="image" value="https://extremal.kz/wp-content/uploads/2014/10/favicon.png"/>
        </insert>
        <insert tableName="partners" schemaName="nsi">
            <column name="id" value="3"/>
            <column name="name" value="Bradobrei"/>
            <column name="image" value="http://borodabrey.com/wp-content/uploads/2018/08/logonew2.png"/>
        </insert>
        <sql dbms="postgresql" endDelimiter=";">
            SELECT setval('nsi.partners_id_seq', (SELECT max(id) FROM nsi.partners))
        </sql>
    </changeSet>
    <changeSet id="insert_test_subs" author="katymtayev">
        <insert tableName="subs" schemaName="nsi">
            <column name="id" value="1"/>
            <column name="attribute_family_id" value="1"/>
            <column name="partner_id" value="1"/>
        </insert>
        <insert tableName="subs" schemaName="nsi">
            <column name="id" value="2" />
            <column name="attribute_family_id" value="1"/>
            <column name="partner_id" value="2"/>
        </insert>
        <insert tableName="subs" schemaName="nsi">
            <column name="id" value="3" />
            <column name="attribute_family_id" value="1"/>
            <column name="partner_id" value="3"/>
        </insert>
        <insert tableName="products" schemaName="nsi">
            <column name="id" value="1"/>
            <column name="sub_id" value="1"/>
            <column name="attribute_family_id" value="2"/>
            <column name="type" value="SIMPLE"/>
        </insert>
        <insert tableName="products" schemaName="nsi">
            <column name="id" value="2"/>
            <column name="sub_id" value="1"/>
            <column name="attribute_family_id" value="2"/>
            <column name="type" value="SIMPLE"/>
        </insert>
        <insert tableName="products" schemaName="nsi">
            <column name="id" value="3"/>
            <column name="sub_id" value="1"/>
            <column name="attribute_family_id" value="2"/>
            <column name="type" value="SIMPLE"/>
        </insert>
        <insert tableName="product_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="39"/>
            <column name="product_id" value="1"/>
            <column name="text_value" value="Americano"/>
        </insert>
        <insert tableName="product_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="39"/>
            <column name="product_id" value="2"/>
            <column name="text_value" value="late"/>
        </insert>
        <insert tableName="product_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="39"/>
            <column name="product_id" value="3"/>
            <column name="text_value" value="late"/>
        </insert>
        <insert tableName="product_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="40"/>
            <column name="product_id" value="3"/>
            <column name="text_value" value="S"/>
        </insert>
        <insert tableName="product_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="40"/>
            <column name="product_id" value="2"/>
            <column name="text_value" value="M"/>
        </insert>
        <insert tableName="product_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="40"/>
            <column name="product_id" value="1"/>
            <column name="text_value" value="S"/>
        </insert>
        <!--<insert tableName="products" schemaName="nsi">
            <column name="id" value="2"/>
            <column name="name" value="Большой капучинно"/>
            <column name="sub_id" value="1"/>
            <column name="sku" value="kss-starbucks-2"/>
            <column name="attribute_family_id" value="2"/>
            <column name="type" value="SIMPLE"/>
        </insert>
        <insert tableName="products" schemaName="nsi">
            <column name="id" value="3"/>
            <column name="name" value="Средний капучинно"/>
            <column name="sub_id" value="1"/>
            <column name="sku" value="kss-starbucks-3"/>
            <column name="attribute_family_id" value="2"/>
            <column name="type" value="SIMPLE"/>
        </insert>
        <insert tableName="subs" schemaName="nsi">
            <column name="id" value="4" />
            <column name="name" value="Экстремал" />
            <column name="sku" value="extremal" />
            <column name="attribute_family_id" value="1"/>
        </insert>
        <insert tableName="subs" schemaName="nsi">
            <column name="id" value="5" />
            <column name="name" value="Bradobrei" />
            <column name="sku" value="bradobrei" />
            <column name="attribute_family_id" value="1"/>
        </insert>
        <insert tableName="subs" schemaName="nsi">
            <column name="id" value="6" />
            <column name="name" value="Car wash" />
            <column name="sku" value="carwash" />
            <column name="attribute_family_id" value="1"/>
        </insert>
        <insert tableName="subs" schemaName="nsi">
            <column name="id" value="7" />
            <column name="name" value="Classic" />
            <column name="sku" value="classic" />
            <column name="attribute_family_id" value="1"/>
        </insert>-->
        <sql dbms="postgresql" endDelimiter=";">
            SELECT setval('nsi.products_id_seq', (SELECT max(id) FROM nsi.products))
        </sql>
        <sql dbms="postgresql" endDelimiter=";">
            SELECT setval('nsi.subs_id_seq', (SELECT max(id) FROM nsi.subs))
        </sql>
    </changeSet>
    <changeSet id="insert_test_sub_categories" author="katymtayev">
        <insert tableName="sub_categories" schemaName="nsi">
            <column name="category_id" value="5"/>
            <column name="sub_id" value="1"/>
            <column name="position" value="1"/>
        </insert>
        <insert tableName="sub_categories" schemaName="nsi">
            <column name="category_id" value="5"/>
            <column name="sub_id" value="2"/>
            <column name="position" value="3"/>
        </insert>
        <insert tableName="sub_categories" schemaName="nsi">
            <column name="category_id" value="5"/>
            <column name="sub_id" value="3"/>
            <column name="position" value="2"/>
        </insert>
    </changeSet>
    <changeSet id="insert_test_recommend_subs" author="katymtayev">
        <insert tableName="sub_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="26"/>
            <column name="sub_id" value="1"/>
            <column name="boolean_value" value="true"/>
        </insert>
    </changeSet>
    <changeSet id="insert_test_cityCodes_subs" author="katymtayev">
        <insert tableName="sub_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="28"/>
            <column name="sub_id" value="1"/>
            <column name="text_value" value="ATY;NUR;KOKW"/>
        </insert>
        <insert tableName="sub_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="28"/>
            <column name="sub_id" value="2"/>
            <column name="text_value" value="ATY;NUR"/>
        </insert>
        <insert tableName="sub_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="28"/>
            <column name="sub_id" value="3"/>
            <column name="text_value" value="ATY;KOKW"/>
        </insert>
        <insert tableName="product_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="2"/>
            <column name="product_id" value="2"/>
            <column name="text_value" value="Средняя кружка Лате"/>
        </insert>
        <insert tableName="product_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="2"/>
            <column name="product_id" value="3"/>
            <column name="text_value" value="Маленькая кружка Лате"/>
        </insert>
        <insert tableName="product_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="2"/>
            <column name="product_id" value="1"/>
            <column name="text_value" value="Маленькая кружка Американо"/>
        </insert>
        <insert tableName="sub_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="2"/>
            <column name="sub_id" value="1"/>
            <column name="text_value" value="Кофе от Starbucks"/>
        </insert>
    </changeSet>
    <changeSet id="insert_test_1" author="katymtayev">
        <insert tableName="sub_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="29"/>
            <column name="sub_id" value="1"/>
            <column name="text_value" value="кофе с собой;кофе от starbucks;капучино"/>
        </insert>
        <insert tableName="sub_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="27"/>
            <column name="sub_id" value="1"/>
            <column name="float_value" value="5.0"/>
        </insert>
        <insert tableName="sub_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="30"/>
            <column name="sub_id" value="1"/>
            <column name="integer_value" value="5"/>
        </insert>
        <insert tableName="sub_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="31"/>
            <column name="sub_id" value="1"/>
            <column name="integer_value" value="1"/>
        </insert>
        <insert tableName="sub_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="32"/>
            <column name="sub_id" value="1"/>
            <column name="integer_value" value="10"/>
        </insert>
        <insert tableName="sub_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="33"/>
            <column name="sub_id" value="1"/>
            <column name="integer_value" value="1"/>
        </insert>
        <insert tableName="sub_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="37"/>
            <column name="sub_id" value="1"/>
            <column name="integer_value" value="60"/>
        </insert>
        <insert tableName="sub_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="35"/>
            <column name="sub_id" value="1"/>
            <column name="integer_value" value="30"/>
        </insert>
        <insert tableName="sub_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="36"/>
            <column name="sub_id" value="1"/>
            <column name="integer_value" value="120"/>
        </insert>
        <insert tableName="sub_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="34"/>
            <column name="sub_id" value="1"/>
            <column name="integer_value" value="30"/>
        </insert>
        <insert tableName="sub_attribute_values" schemaName="nsi">
            <column name="attribute_id" value="38"/>
            <column name="sub_id" value="1"/>
            <column name="integer_value" value="20"/>
        </insert>
    </changeSet>

    <!--###############################################END INSERT INITIAL DATA######################################################################-->


</databaseChangeLog>
